<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login page</title>

    <link rel="stylesheet" href="/css/bootstrap.css" />
  </head>

  <body>
    <%- include('partials/minimumHeader') %>
    <main>
      <div class="container py-5">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
          <div class="col"></div>
          <div class="col">
            <form action="" method="post" oninput='up2.setCustomValidity(up2.value != up.value ? "Passwords do not match." : "")'>
              <div class="form-floating mb-3">
                <input
                  type="email"
                  class="form-control"
                  id="floatingInput"
                  name="email"
                  placeholder="name@example.com"
                  required name="un"
                />
                <label for="floatingInput">Email address</label>
              </div>
              <div class="form-floating mb-3">
                <input
                  type="password"
                  class="form-control"
                  id="floatingPassword"
                  name="password"
                  placeholder="Password"
                  required name="up"
                />
                <label for="floatingPassword">Password</label>
              </div>
              <div class="form-floating mb-3">
                <input
                  type="password"
                  class="form-control"
                  id="confirmpassword"
                  name="confirmpassword"
                  placeholder="Password"
                  required name="up2"
                />
                <label for="confirmpassword">Confirm Password</label>
              </div>
              <div class="d-grid gap-2">
                <button class="btn btn-primary py-2" type="submit">
                  Register
                </button>
              </div>
            </form>

            <form class="form-signin needs-validation" novalidate oninput='confirmPassword.setCustomValidity(confirmPassword.value != newPassword.value ? true : false)'>
              <div class="card shadow-sm">
                <div class="card-body">
            
                  <div class="form-group">
                    <label class="sr-only" for="oldPassword">Current Password</label>
                    <input class="form-control form-control-sm" id="oldPassword" name="password" placeholder="Current Password" required type="password" autocomplete="off" aria-describedby="inputGroupPrepend">
                    <div class="invalid-feedback">
                      Please enter current password.
                    </div>
                  </div>
            
                  <div class="form-group">
                    <div class="form-group">
                      <label class="sr-only" for="newPassword">New Password</label>
                      <div class="input-group">
            
                        <input name="newPassword" type="password" class="form-control form-control-sm" id="newPassword" placeholder="New Password" aria-describedby="inputGroupPrepend" required>
                        <div class="invalid-feedback">
                          Please enter new password.
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="sr-only" for="confirmPassword">Confirm Password</label>
                    <div class="input-group">
            
                      <input name="confirmPassword" type="password" autocomplete="off" class="form-control form-control-sm" id="confirmPassword" placeholder="Confirm Password" aria-describedby="inputGroupPrepend" required>
                      <div class="invalid-feedback">
                        Password not a match.
                      </div>
                    </div>
                  </div>
            
                  <button id="submitBtn" class="btn btn-md btn-primary btn-block" type="submit">Update</button>
            
                </div>
              </div>
            </form>
          </div>
          <div class="col"></div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script>
// Check if passwords match
$("#pwdId, #confirmPassword").on("keyup", function () {
  if (
    $("#newPassword").val() != "" &&
    $("#confirmPassword").val() != "" &&
    $("#confirmPassword").val() == $("#confirmPassword").val()
  ) {
  }
});

// Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  "use strict";
  window.addEventListener(
    "load",
    function () {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName("needs-validation");
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function (form) {
        form.addEventListener(
          "submit",
          function (event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add("was-validated");
          },
          false
        );
      });
    },
    false
  );
})();

    </script>
  </body>
</html>
