<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>index</title>
    <link rel="stylesheet" href="/css/bootstrap.css" />
  </head>
  <body>
    <header>
      <%- include('partials/header') %> 
      </nav>
      <% if(user.role === 'admin'){ %>
      <nav>
        <div
          class="nav nav-tabs justify-content-center"
          id="nav-tab"
          role="tablist"
        >
          <button
            class="nav-link active"
            id="nav-account"
            data-bs-toggle="tab"
            data-bs-target="#nav-account-tab"
            type="button"
            role="tab"
            aria-controls="nav-home"
            aria-selected="false"
          >
            Account
          </button>
          <button
            class="nav-link"
            id="nav-users"
            data-bs-toggle="tab"
            data-bs-target="#nav-users-tab"
            type="button"
            role="tab"
            aria-controls="nav-profile"
            aria-selected="false"
          >
            Users
          </button>
          <button
            class="nav-link"
            id="nav-orders"
            data-bs-toggle="tab"
            data-bs-target="#nav-orders-tab"
            type="button"
            role="tab"
            aria-controls="nav-contact"
            aria-selected="false"
          >
            Orders
          </button>
          <button
            class="nav-link"
            id="nav-stock"
            data-bs-toggle="tab"
            data-bs-target="#nav-stock-tab"
            type="button"
            role="tab"
            aria-controls="nav-contact"
            aria-selected="false"
          >
            Stock
          </button>
          <!--<button class="nav-link" id="nav-disabled-tab" data-bs-toggle="tab" data-bs-target="#nav-disabled" type="button" role="tab" aria-controls="nav-disabled" aria-selected="false" disabled>Disabled</button>-->
        </div>
      </nav>
      <div class="tab-content" id="nav-account-tab">
        <div
          class="tab-pane fade show active"
          id="nav-home"
          role="tabpanel"
          aria-labelledby="nav-home-tab"
          tabindex="0"
        >

        </div>
        <div
          class="tab-pane fade"
          id="nav-orders-tab"
          role="tabpanel"
          aria-labelledby="nav-orders"
          tabindex="0"
        >
        <div class="container py-5">
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th scope="col">User Id</th>
                  <th scope="col">Products</th>
                  <th scope="col">Value</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody>
                <!--templatka z listą-->
                <tr>
                  <td>1,001</td>
                  <td><ul class="list-group">
                    <li class="list-group-item disabled" aria-disabled="true">A disabled item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                    <li class="list-group-item">A fourth item</li>
                    <li class="list-group-item">And a fifth one</li>
                  </ul></td>
                  <td>data</td>
                  <td>data</td>
                </tr>
                <!--templatka z tabelką-->
                <tr>
                  <td>1,002</td>
                  <td><table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <td>p1</td>
                      <td>1</td>
                    </tbody>
                  </table></td>
                  <td>irrelevant</td>
                  <td>visual</td>
                </tr>
                <!--koniec-->
                <tr>
                  <td>1,002</td>
                  <td><table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Amount</th>
                      </tr>
                    </thead>
                    <tbody>
                      <td>p1</td>
                      <td>1</td>
                    </tbody>
                  </table></td>
                  <td>irrelevant</td>
                  <td>visual</td>
                </tr>
                </tbody>
                </table>
                </div>
                </div>

        </div>
        

        <div
          class="tab-pane fade"
          id="nav-stock-tab"
          role="tabpanel"
          aria-labelledby="nav-stock"
          tabindex="0"
        >
        <div class="container py-5">
          <form action="add_product" method="post">
          <div class="input-group mb-3">
            <label for="ProductName" class="form-label">Add a new Product</label>
            <div class="input-group">
            <label class="input-group-text" for="inputGroupSelect01">Product name</label>
            <input type="text" class="form-control" placeholder="name" id="ProductName" aria-label="Username">
            <!--<span class="input-group-text">Category</span>-->
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">Choose Categories</button>

            <!--<label class="input-group-text" for="inputGroupSelect01">Category</label>
            <select class="form-select" id="inputGroupSelect01">
              <option selected>Choose...</option>
              <% if(categories !==null){ %>
                <% for(var i = 0; i < categories.length; i++) { %>
                <option value="<%= categories[i].id %>">category <%= categories[i].id %></option>
                <% } %> <% } %>
            </select>-->
          </div>
          <div class="collapse" id="collapseExample">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="category[]" value="2">
              <label class="form-check-label" for="inlineCheckbox2">2</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="category[]" value="3">
              <label class="form-check-label" for="inlineCheckbox1">3</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="category[]" value="4">
              <label class="form-check-label" for="inlineCheckbox2">4</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="category[]" value="5">
              <label class="form-check-label" for="inlineCheckbox1">5</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="category[]" value="6">
              <label class="form-check-label" for="inlineCheckbox2">6</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="category[]" value="7">
              <label class="form-check-label" for="inlineCheckbox1">7</label>
            </div>
          </div>
          </div>
          
          <div class="input-group mb-3">
            <span class="input-group-text">Description</span>
            <textarea class="form-control" aria-label="With textarea" style="height: 100px"></textarea>
          </div>
          <div class="input-group mb-3">
            <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
            <span class="input-group-text">$</span>
            <input type="text" class="form-control"  placeholder="Price" aria-label="Amount (to the nearest dollar)">
            <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Add product</button>
          </div>
        </form>
          </div>
        </div>
      </div>
      <% } else{ %>
        <nav>
          <div
            class="nav nav-tabs justify-content-center"
            id="nav-tab"
            role="tablist"
          >
            <button
              class="nav-link active"
              id="nav-account-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-account"
              type="button"
              role="tab"
              aria-controls="nav-home"
              aria-selected="false"
            >
              Account
            </button>
            <button
              class="nav-link"
              id="nav-orders-tab"
              data-bs-toggle="tab"
              data-bs-target="#nav-orders"
              type="button"
              role="tab"
              aria-controls="nav-profile"
              aria-selected="false"
            >
              Orders
            </button>
            <!--<button class="nav-link" id="nav-disabled-tab" data-bs-toggle="tab" data-bs-target="#nav-disabled" type="button" role="tab" aria-controls="nav-disabled" aria-selected="false" disabled>Disabled</button>-->
          </div>
        </nav>
        <div class="tab-content" id="nav-content-tab">
          <div
            class="tab-pane fade show active"
            id="nav-account"
            role="tabpanel"
            aria-labelledby="nav-account-tab"
            tabindex="0"
          >
          <div class="container py-5">
            <%- user.email %>
          </div>
          </div>
          <div
            class="tab-pane fade"
            id="nav-orders"
            role="tabpanel"
            aria-labelledby="nav-orders-tab"
            tabindex="0"
          >
          <div class="container py-5">
            orders
          </div>
        </div>
        </div>
        <% } %>
    </header>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script>
      const triggerTabList = document.querySelectorAll('#nav-tab button');
      triggerTabList.forEach((triggerEl) => {
        const tabTrigger = new bootstrap.Tab(triggerEl);

        triggerEl.addEventListener('mouseover', (event) => {
          event.preventDefault();
          tabTrigger.show();
        });
      });
    </script>
  </body>
</html>
