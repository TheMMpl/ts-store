<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>index</title>
    <link rel="stylesheet" href="/css/bootstrap.css" />
  </head>
  <body>
    <header>
      <%- include('partials/header') %> 
      </nav>
      <% if(user.role === 'admin'){ %>
      <nav>
        <div
          class="nav nav-tabs justify-content-center"
          id="nav-tab"
          role="tablist"
        >
          <button
            class="nav-link active"
            id="nav-account"
            data-bs-toggle="tab"
            data-bs-target="#nav-account-tab"
            type="button"
            role="tab"
            aria-controls="nav-home"
            aria-selected="false"
          >
            Account
          </button>
          <button
            class="nav-link"
            id="nav-users"
            data-bs-toggle="tab"
            data-bs-target="#nav-users-tab"
            type="button"
            role="tab"
            aria-controls="nav-profile"
            aria-selected="false"
          >
            Users
          </button>
          <button
            class="nav-link"
            id="nav-orders"
            data-bs-toggle="tab"
            data-bs-target="#nav-orders-tab"
            type="button"
            role="tab"
            aria-controls="nav-contact"
            aria-selected="false"
          >
            Orders
          </button>
          <button
            class="nav-link"
            id="nav-stock"
            data-bs-toggle="tab"
            data-bs-target="#nav-stock-tab"
            type="button"
            role="tab"
            aria-controls="nav-contact"
            aria-selected="false"
          >
            Stock
          </button>
          <!--<button class="nav-link" id="nav-disabled-tab" data-bs-toggle="tab" data-bs-target="#nav-disabled" type="button" role="tab" aria-controls="nav-disabled" aria-selected="false" disabled>Disabled</button>-->
        </div>
      </nav>
      <div class="tab-content" id="nav-account-tab">
        <div
          class="tab-pane fade show active"
          id="nav-home"
          role="tabpanel"
          aria-labelledby="nav-home-tab"
          tabindex="0"
        >
        
        </div>
        <div
          class="tab-pane fade"
          id="nav-users-tab"
          role="tabpanel"
          aria-labelledby="nav-profile-tab"
          tabindex="0"
        >
         
        </div>
        <div
          class="tab-pane fade"
          id="nav-stock-tab"
          role="tabpanel"
          aria-labelledby="nav-stock"
          tabindex="0"
        >
        <div class="container py-5">
          <form action="add_product" method="post">
          <div class="input-group mb-3">
            <label for="ProductName" class="form-label">Add a new Product</label>
            <div class="input-group">
            <label class="input-group-text" for="inputGroupSelect01">Product name</label>
            <input type="text" class="form-control" placeholder="name" id="ProductName" aria-label="Username">
            <!--<span class="input-group-text">Category</span>-->
            <label class="input-group-text" for="inputGroupSelect01">Category</label>
            <select class="form-select" id="inputGroupSelect01">
              <option selected>Choose...</option>
              <% if(categories !==null){ %>
                <% for(var i = 0; i < categories.length; i++) { %>
                <option value="<%= categories[i].id %>">category <%= categories[i].id %></option>
                <% } %> <% } %>
            </select>
          </div>
          </div>
          
          <div class="input-group mb-3">
            <span class="input-group-text">Description</span>
            <textarea class="form-control" aria-label="With textarea" style="height: 100px"></textarea>
          </div>
          <div class="input-group mb-3">
            <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload">
            <span class="input-group-text">$</span>
            <input type="text" class="form-control"  placeholder="Price" aria-label="Amount (to the nearest dollar)">
            <span class="input-group-text">.00</span>
            <button class="btn btn-outline-secondary" type="submit" id="inputGroupFileAddon04">Add product</button>
          </div>
        </form>
          </div>
        </div>
      </div>
      <% } else{ %>
        <h1>Only for Admin</h1>
        <% } %>
    </header>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <!-- <script>
        document.addEventListener("DOMContentLoaded", function(){
// make it as accordion for smaller screens
if (window.innerWidth > 992) {

	document.querySelectorAll('.navbar .nav-item').forEach(function(everyitem){

		everyitem.addEventListener('mouseover', function(e){

			let el_link = this.querySelector('a[data-bs-toggle]');

			if(el_link != null){
				let nextEl = el_link.nextElementSibling;
				el_link.classList.add('show');
				nextEl.classList.add('show');
			}

		});
		everyitem.addEventListener('mouseleave', function(e){
			let el_link = this.querySelector('a[data-bs-toggle]');

			if(el_link != null){
				let nextEl = el_link.nextElementSibling;
				el_link.classList.remove('show');
				nextEl.classList.remove('show');
			}
		})
	});

}
}); 
      </script>-->
    <script>
      const triggerTabList = document.querySelectorAll('#nav-tab button');
      triggerTabList.forEach((triggerEl) => {
        const tabTrigger = new bootstrap.Tab(triggerEl);

        triggerEl.addEventListener('mouseover', (event) => {
          event.preventDefault();
          tabTrigger.show();
        });
        // triggerEl.addEventListener('mouseleave', event => {
        //     event.preventDefault()
        //     tabTrigger.hide()
        //     })
      });
    </script>
    <!-- <script>
        document.addEventListener("DOMContentLoaded", function(){
// make it as accordion for smaller screens
	document.querySelectorAll('.nav .nav-link').forEach(function(everyitem){

		everyitem.addEventListener('mouseover', function(e){

			let el_link = this.querySelector('a[data-bs-toggle]');

			if(el_link != null){
				let nextEl = el_link.nextElementSibling;
				el_link.classList.add('show');
				nextEl.classList.add('show');
			}

		});
		everyitem.addEventListener('mouseleave', function(e){
			let el_link = this.querySelector('a[data-bs-toggle]');

			if(el_link != null){
				let nextEl = el_link.nextElementSibling;
				el_link.classList.remove('show');
				nextEl.classList.remove('show');
			}


		})
	});

// end if innerWidth
}); 
      </script>-->
  </body>
</html>
